(()=>{var e={};e.id=912,e.ids=[912],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},15885:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var t=s(50482),a=s(69108),i=s(62563),n=s.n(i),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let c=["",{children:["(dashboard)",{children:["workspaces",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7979)),"/root/.openclaw/workspace/slack-clone-full/src/app/(dashboard)/workspaces/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95021)),"/root/.openclaw/workspace/slack-clone-full/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,21342)),"/root/.openclaw/workspace/slack-clone-full/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/root/.openclaw/workspace/slack-clone-full/src/app/(dashboard)/workspaces/page.tsx"],u="/(dashboard)/workspaces/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/workspaces/page",pathname:"/workspaces",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},47573:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},60910:()=>{},13759:(e,r,s)=>{Promise.resolve().then(s.bind(s,75489))},35303:()=>{},94383:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(69224).Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},51838:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5094:(e,r,s)=>{"use strict";s.d(r,{z:()=>c});var t=s(95344),a=s(3729),i=s(45877),n=s(49247),o=s(11453);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:r,size:s,asChild:a=!1,...n},c)=>{let d=a?i.g7:"button";return t.jsx(d,{className:(0,o.cn)(l({variant:r,size:s,className:e})),ref:c,...n})});c.displayName="Button"},75489:(e,r,s)=>{"use strict";s.r(r),s.d(r,{WorkspaceList:()=>d});var t=s(95344),a=s(3729),i=s(22254),n=s(5094),o=s(51838);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(69224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var c=s(94383);function d({workspaces:e}){let r=(0,i.useRouter)(),[s,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),m=async()=>{if(u.trim()){d(!0);try{let e=await fetch("/api/workspaces",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u})});if(e.ok){let s=await e.json();r.push(`/${s.slug}`),r.refresh()}}catch(e){console.error("Create workspace error:",e)}finally{d(!1),p("")}}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:"New workspace name",value:u,onChange:e=>p(e.target.value),className:"flex-1 h-10 px-3 rounded-md bg-[#222529] border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:border-[#4a154b]"}),(0,t.jsxs)(n.z,{onClick:m,disabled:s||!u.trim(),className:"bg-[#4a154b] hover:bg-[#5c1a5d] text-white",children:[t.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Create"]})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[e.map(e=>t.jsx("div",{onClick:()=>r.push(`/${e.slug}`),className:"p-6 bg-[#222529] rounded-lg border border-gray-700 hover:border-[#4a154b] cursor-pointer transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:e.name}),(0,t.jsxs)("p",{className:"text-gray-400 text-sm",children:["/",e.slug]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-gray-400 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(l,{className:"w-4 h-4"}),e._count.members]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(c.Z,{className:"w-4 h-4"}),e._count.channels]})]})]})},e.id)),0===e.length&&t.jsx("div",{className:"text-center py-12 text-gray-400",children:t.jsx("p",{children:"No workspaces yet. Create one to get started!"})})]})]})}},11453:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(56815),a=s(79377);function i(...e){return(0,a.m6)((0,t.W)(e))}},95021:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(25036),a=s(44551),i=s(81355),n=s(82002);async function o({children:e}){let r=await (0,i.getServerSession)(n.L);return r?.user?.id||(0,a.redirect)("/"),t.jsx("div",{className:"h-screen flex bg-[#1a1d21]",children:e})}},7979:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m});var t=s(25036),a=s(44551),i=s(81355),n=s(82002),o=s(19631),l=s(86843);let c=(0,l.createProxy)(String.raw`/root/.openclaw/workspace/slack-clone-full/src/components/workspace/workspace-list.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let p=(0,l.createProxy)(String.raw`/root/.openclaw/workspace/slack-clone-full/src/components/workspace/workspace-list.tsx#WorkspaceList`);async function m(){let e=await (0,i.getServerSession)(n.L);e?.user?.id||(0,a.redirect)("/");let r=await o._.workspace.findMany({where:{members:{some:{userId:e.user.id}}},include:{_count:{select:{members:!0,channels:!0}}},orderBy:{createdAt:"desc"}});return t.jsx("div",{className:"min-h-screen bg-[#1a1d21] p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Your Workspaces"}),t.jsx(p,{workspaces:r})]})})}},21342:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o,metadata:()=>n});var t=s(25036),a=s(42195),i=s.n(a);s(5023);let n={title:"Slack Clone",description:"A full-featured Slack clone built with Next.js"};function o({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:i().className,children:e})})}},82002:(e,r,s)=>{"use strict";s.d(r,{L:()=>l});var t=s(65822),a=s(10375),i=s(50694),n=s(86485),o=s(19631);let l={adapter:(0,t.N)(o._),session:{strategy:"jwt"},pages:{signIn:"/",error:"/"},providers:[(0,a.Z)({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""}),(0,i.Z)({clientId:process.env.GITHUB_CLIENT_ID||"",clientSecret:process.env.GITHUB_CLIENT_SECRET||""}),(0,n.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email)return null;let r=await o._.user.findUnique({where:{email:e.email}});return r?{id:r.id,email:r.email,name:r.name,image:r.image}:null}})],callbacks:{session:async({token:e,session:r})=>(e&&(r.user.id=e.id,r.user.name=e.name,r.user.email=e.email,r.user.image=e.picture),r),async jwt({token:e,user:r}){if(!e.email)return e;let s=await o._.user.findFirst({where:{email:e.email}});return s?{id:s.id,name:s.name,email:s.email,picture:s.image}:(r&&(e.id=r?.id),e)}}}},19631:(e,r,s)=>{"use strict";s.d(r,{_:()=>a});let t=require("@prisma/client"),a=globalThis.prisma??new t.PrismaClient},5023:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[225,942,883,662],()=>s(15885));module.exports=t})();